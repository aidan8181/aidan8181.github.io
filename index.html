<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PriceWatcher Demo</title>
</head>
<body onload="pageSetup()">
 
<span>&nbsp;</span>
<h3>Product One</h3>
<p id="product_one_price">£3</p>
<p/>
<h3>Product Two</h3>
<p id="product_two_price">£3</p>
<p/>
<h3>Product Three</h3>
<p id="product_three_price">£3</p>
<p/>
<h3>Product Four</h3>
<p id="product_four_price">£3</p>
<p/>
<h3>Product Five</h3>
<p id="product_five_price">£3</p>
<p/>
<h3>Product Six</h3>
<p id="product_six_price">£3</p>
<p/>
<h3>Product Seven</h3>
<p id="product_seven_price">£3</p>
<p/>
<h3>Product Eight</h3>
<p id="product_eight_price">£3</p>
<p/>
<h3>Product Nine</h3>
<p id="product_nine_price">£3</p>
<p/>
<h3>Product Ten</h3>
<p id="product_ten_price">£3</p>
<p/>
<p>
	Enter Price To Update To: <input type="text" id="update_price_to" value="0">
</p>
<button type="button" onclick="updatePrice()">Update Price</button>

<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script>
<script>
	function pageSetup() {
		var config = {
			apiKey: "AIzaSyAtpx_kTR6WkCSsK2SYiyptBAgETvuJNZw",
			authDomain: "pricewatchercore.firebaseapp.com",
			databaseURL: "https://pricewatchercore.firebaseio.com/",
			projectId: "pricewatchercore",
			storeageBucket: "pricewatchercore.appspot.com"
		};
		firebase.initializeApp(config);

		// Get a reference to the database service
		var database = firebase.database();

		var root = database.ref();

		var node = root.child("products");

		node.once("value", function (snapshot) {
			var currentProductPrice = document.getElementById("product_one_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_one").val();

			var currentProductPrice = document.getElementById("product_two_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_two").val();

			var currentProductPrice = document.getElementById("product_three_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_three").val();

			var currentProductPrice = document.getElementById("product_four_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_four").val();

			var currentProductPrice = document.getElementById("product_five_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_five").val();

			var currentProductPrice = document.getElementById("product_six_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_six").val();

			var currentProductPrice = document.getElementById("product_seven_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_seven").val();

			var currentProductPrice = document.getElementById("product_eight_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_eight").val();

			var currentProductPrice = document.getElementById("product_nine_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_nine").val();

			var currentProductPrice = document.getElementById("product_ten_price");
			currentProductPrice.innerHTML = "£" + snapshot.child("product_ten").val();
		});
	}
</script>
<script>
	function updatePrice() {
		var updateTo = document.getElementById("update_price_to");
		var currentProductPrice = document.getElementById("product_one_price");

		var database = firebase.database();

		var root = database.ref();

		var node = root.child("products");

		node.set({
			product_one: updateTo.value
		})
		
		currentProductPrice.innerHTML = "£" + updateTo.value;
	}
</script>
	
	

 
</body>
</html>
